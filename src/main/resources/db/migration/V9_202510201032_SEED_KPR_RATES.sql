ALTER TABLE public.kpr_rates
ADD CONSTRAINT unique_rate_name UNIQUE (rate_name);

INSERT INTO public.kpr_rates (
    rate_name,
    rate_type,
    property_type,
    customer_segment,
    base_rate,
    margin,
    effective_rate,
    min_loan_amount,
    max_loan_amount,
    min_term_years,
    max_term_years,
    max_ltv_ratio,
    min_income,
    max_age,
    min_down_payment_percent,
    admin_fee,
    admin_fee_percent,
    appraisal_fee,
    insurance_rate,
    notary_fee_percent,
    is_promotional,
    promo_description,
    promo_start_date,
    promo_end_date,
    is_active,
    effective_date,
    expiry_date,
    created_by
) VALUES
      ('KPR Fixed 5 Tahun - Employee', 'fixed', 'rumah', 'employee',
       0.0500, 0.0200, 0.0700,
       100000000, 2000000000,
       5, 20, 0.8500,
       5000000, 55, 10.00,
       1000000, 0.0050,
       1500000, 0.0020, 0.0050,
       false, NULL, NULL, NULL,
       true, '2025-01-01', '2025-12-31', 1),

      ('KPR Floating Rate - Professional', 'floating', 'ruko', 'professional',
       0.0450, 0.0250, 0.0700,
       200000000, 3000000000,
       5, 25, 0.8000,
       8000000, 60, 15.00,
       1250000, 0.0030,
       2000000, 0.0025, 0.0040,
       false, NULL, NULL, NULL,
       true, '2025-01-01', NULL, 1),

      ('KPR Entrepreneur Promo - Fixed 3 Tahun', 'fixed', 'apartemen', 'entrepreneur',
       0.0450, 0.0150, 0.0600,
       150000000, 2500000000,
       3, 15, 0.9000,
       7000000, 50, 5.00,
       750000, 0.0020,
       1000000, 0.0015, 0.0030,
       true, 'Diskon bunga 1.5% untuk nasabah entrepreneur',
       '2025-06-01', '2025-12-31',
       true, '2025-06-01', '2025-12-31', 1),

      ('KPR Syariah - Murabahah', 'fixed', 'rumah', 'pensioner',
       0.0450, 0.0000, 0.0450,
       100000000, 1500000000,
       5, 20, 0.8500,
       6000000, 55, 10.00,
       800000, 0.0020,
       1000000, 0.0000, 0.0040,
       false, NULL, NULL, NULL,
       true, '2025-01-01', NULL, 1),

      ('KPR Akhir Tahun 2025 - Diskon Admin', 'mixed', 'all', 'all',
       0.0475, 0.0175, 0.0650,
       120000000, 2200000000,
       5, 20, 0.8500,
       6000000, 55, 10.00,
       0, 0.0000,
       1500000, 0.0020, 0.0050,
       true, 'Gratis biaya admin untuk pengajuan hingga Desember 2025',
       '2025-10-01', '2025-12-31',
       true, '2025-10-01', '2025-12-31', 1)
    ON CONFLICT (rate_name) DO NOTHING;
